import{a as y,C as v,b as n,s as w,k as b,V as k,W as C,D as $,o as a,c as O,x as r,w as u,h as f,m as g,t as V,T as c,e as i,r as t,f as o,v as m,j as B}from"./entry.c55b7e60.js";import{u as _}from"./uid.f9fa3ea1.js";import{i as z}from"./isKey.73a771a0.js";const s={instances:{},stack:[],zIndex:1050,register(e){e&&e.name&&(s.instances[e.name]=e)},unregister(e){e&&e.name&&(s.instances[e.name]=null,delete s.instances[e.name])},open(e){typeof window>"u"||(s.stack.push(e),s.instances[e].$el.style.zIndex=s.zIndex++)},close(e){typeof window>"u"||s.stack.splice(s.stack.indexOf(e),1)},getTopOverlay(){const e=s.stack.slice(-1)[0]||"";return s.instances[e]},onPressEscape(){const e=s.getTopOverlay();e&&e.closeOnPressEscape&&e.hide()}};typeof window<"u"&&window.addEventListener("keydown",e=>{z("esc",e)&&s.onPressEscape()});const l="IModal",P=y({name:l,directives:{ClickOutside:v},inheritAttrs:!1,props:{closeOnPressEscape:{type:Boolean,default:!0},closeAriaLabel:{type:String,default:"Close"},color:{type:String,default:n(l,"color")},disabled:{type:Boolean,default:!1},hideOnClickOutside:{type:Boolean,default:!0},name:{type:String,default(){return _("modal")}},showClose:{type:Boolean,default:!0},size:{type:String,default:n(l,"size"),validator:w},modelValue:{type:Boolean,default:!1},transition:{type:String,default:"zoom-in-center-transition"}},emits:["update:modelValue"],data(){return{visible:this.modelValue}},computed:{classes(){return{"-disabled":this.disabled,...b(this),[`-${this.size}`]:Boolean(this.size)}}},watch:{modelValue(e){e?this.show():this.hide()}},mounted(){s.register(this)},unmounted(){s.unregister(this)},methods:{show(){this.disabled||(this.visible=!0,this.$emit("update:modelValue",!0),s.open(this.name),typeof window<"u"&&k(window.document.body,"-modal"))},hide(){this.disabled||(this.visible=!1,this.$emit("update:modelValue",!1),s.close(this.name),typeof window<"u"&&C(window.document.body,"-modal"))},onClickOutside(){this.hideOnClickOutside&&this.hide()}}}),S=["aria-hidden","id","name","aria-labelledby"],E={class:"modal"},N=["id"],D=["aria-label"],I=f("i",{class:"icon"},null,-1),T={key:1,class:"modal-body"},A={key:2,class:"modal-footer"};function L(e,d,j,K,M,W){const h=$("click-outside");return a(),O(c,{name:"fade-in-transition"},{default:r(()=>[u(f("div",g(e.$attrs,{class:["modal-wrapper",e.classes],role:"dialog","aria-modal":"true","aria-hidden":e.visible?"false":"true",id:e.name,name:e.name,"aria-labelledby":`${e.name}-header`}),[V(c,{name:e.transition},{default:r(()=>[u((a(),i("div",E,[e.$slots.header?(a(),i("div",{key:0,class:"modal-header",id:`${e.name}-header`},[t(e.$slots,"header"),e.showClose?(a(),i("button",{key:0,class:"close","aria-hidden":"true","aria-label":e.closeAriaLabel,onClick:d[0]||(d[0]=(...p)=>e.hide&&e.hide(...p))},[t(e.$slots,"close",{},()=>[I])],8,D)):o("",!0)],8,N)):o("",!0),e.$slots.default?(a(),i("div",T,[t(e.$slots,"default")])):o("",!0),e.$slots.footer?(a(),i("div",A,[t(e.$slots,"footer")])):o("",!0)])),[[h,e.onClickOutside],[m,e.visible]])]),_:3},8,["name"])],16,S),[[m,e.visible]])]),_:3})}const H=B(P,[["render",L]]);export{H as default};
