import{a as y,X as c,b as m,s as $,o,e as r,h as n,r as l,t as f,x as b,i as h,f as d,m as g,E as V,w as N,v as S,j as C}from"./entry.c55b7e60.js";import B from"./index.14c353fb.js";import{u as I}from"./uid.f9fa3ea1.js";import"./FormComponentMixin.f05ca13b.js";import"./valueByPath.9afb6b32.js";const p="INumberInput",v=y({name:p,components:{IButton:c},extends:B,inheritAttrs:!1,props:{color:{type:String,default:m(p,"color")},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:""},modelValue:{type:[String,Number],default:""},name:{type:[String,Number],default(){return I("input")}},readonly:{type:Boolean,default:!1},size:{type:String,default:m(p,"size"),validator:$},tabindex:{type:[Number,String],default:0},min:{type:[Number,String],default:-1/0},max:{type:[Number,String],default:1/0},precision:{type:Number,default:0},step:{type:Number,default:1}},emits:["update:modelValue"],watch:{modelValue:{immediate:!0,handler(e){var t,i;let a=(e||"").toString().replace(/^[^0-9-]/,"").replace(/^(-)[^0-9]/,"$1").replace(new RegExp(`^(-?[0-9]+)[^0-9${this.precision>0?".":""}]`),"$1");this.precision>0&&(a=a.replace(/^(-?[0-9]+\.)[^0-9]/,"$1").replace(new RegExp(`^(-?[0-9]+\\.[0-9]{0,${this.precision}}).*`),"$1")),parseFloat(a)>=parseFloat(this.max)&&(a=this.max.toString()),parseFloat(a)<=parseFloat(this.min)&&(a=this.min.toString()),(i=(t=this.parent).onInput)==null||i.call(t,this.name,a),this.$emit("update:modelValue",a)}}},methods:{decrease(){this.$emit("update:modelValue",this.formatPrecision((Number(this.modelValue)-this.step).toString()))},increase(){this.$emit("update:modelValue",this.formatPrecision((Number(this.modelValue)+this.step).toString()))},formatPrecision(e){const a=e.split(".");let t=a[1]||"";for(let i=t.length;i<this.precision;i+=1)t+="0";return this.precision>0?`${a[0]}.${t}`:a[0]},onBlurFormatPrecision(e){var a,t;this.$emit("update:modelValue",this.formatPrecision(Number(this.modelValue).toString())),(t=(a=this.parent).onBlur)==null||t.call(a,this.name,e)}}}),k={class:"input-prepend"},z={class:"input"},w={key:0,class:"input-prefix"},P=["value","name","id","tabindex","disabled","aria-disabled","readonly","aria-readonly"],F={key:1,class:"input-suffix"},E=["aria-label","aria-hidden"],R={class:"input-append"};function D(e,a,t,i,A,j){const u=c;return o(),r("div",{class:V(["input-wrapper -prepended -appended",e.classes])},[n("div",k,[l(e.$slots,"prepend"),f(u,{type:"button",color:e.color,size:e.size,disabled:e.disabled,class:"input-button-decrease",onClick:e.decrease},{default:b(()=>[h(" - ")]),_:1},8,["color","size","disabled","onClick"])]),n("div",z,[e.$slots.prefix?(o(),r("span",w,[l(e.$slots,"prefix")])):d("",!0),n("input",g(e.$attrs,{value:e.value,ref:"input",name:e.name,id:e.id,type:"text",tabindex:e.tabIndex,disabled:e.isDisabled,"aria-disabled":e.isDisabled?"true":!1,readonly:e.isReadonly,"aria-readonly":e.isReadonly?"true":!1,onInput:a[0]||(a[0]=(...s)=>e.onInput&&e.onInput(...s)),onBlur:a[1]||(a[1]=(...s)=>e.onBlur&&e.onBlur(...s))}),null,16,P),e.$slots.suffix||e.clearable&&e.isClearable?(o(),r("span",F,[l(e.$slots,"clearable",{clear:e.onClear},()=>[e.clearable?N((o(),r("i",{key:0,class:"input-clear",role:"button","aria-label":e.clearAriaLabel,"aria-hidden":e.isClearable?"false":"true",onClick:a[2]||(a[2]=(...s)=>e.onClear&&e.onClear(...s))},null,8,E)),[[S,e.isClearable]]):d("",!0)]),l(e.$slots,"suffix")])):d("",!0)]),n("div",R,[f(u,{type:"button",color:e.color,size:e.size,disabled:e.disabled,class:"input-button-increase",onClick:e.increase},{default:b(()=>[h(" + ")]),_:1},8,["color","size","disabled","onClick"]),l(e.$slots,"append")])],2)}const H=C(v,[["render",D]]);export{H as default};
